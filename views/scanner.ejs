<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WhatsApp Scanner</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="/socket.io/socket.io.js"></script>
</head>
<body class="d-flex justify-content-center align-items-center vh-100">
<div class="text-center">
    <h1>Scan QR Code to Connect WhatsApp</h1>
    <div id="qrcode"><p>Waiting for QR...</p></div>
</div>

<script>
const socket = io();
socket.on('qr', (url) => {
    document.getElementById('qrcode').innerHTML = `<img src="${url}" />`;
});
socket.on('connected', () => {
    window.location.href = '/send-message';
});
</script>
</body>
</html>